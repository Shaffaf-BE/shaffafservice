<?xml version="1.0" encoding="utf-8"?>
<databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd
                        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

    <!--
        Added dedicated sequences for entity ID generation.

        This changelog creates PostgreSQL sequences for entities to replace
        the default sequenceGenerator with dedicated sequences per entity.
    -->
    <changeSet id="20250621000000-1" author="jhipster">
        <preConditions onFail="MARK_RAN">
            <dbms type="postgresql"/>
        </preConditions>
        <comment>Create dedicated sequences for entity ID generation</comment>

        <!-- Create sequence for Project entity -->
<!--        <createSequence sequenceName="project_seq" startValue="1" incrementBy="50"/>-->
        <addDefaultValue tableName="project"
                         columnName="id"
                         defaultValueComputed="nextval('project_seq')"/>

        <!-- Create sequence for Block entity -->
        <addDefaultValue tableName="block" 
                         columnName="id"
                         defaultValueComputed="nextval('block_seq')"/>

        <!-- Create sequence for Unit entity -->
        <addDefaultValue tableName="unit" 
                         columnName="id"
                         defaultValueComputed="nextval('unit_seq')"/>
      
        <!-- Create sequence for UnitType entity -->
        <addDefaultValue tableName="unit_type" 
                         columnName="id"
                         defaultValueComputed="nextval('unit_type_seq')"/>
      
        <!-- Create sequence for Resident entity -->
<!--        <createSequence sequenceName="resident_seq" startValue="1" incrementBy="50"/>-->
        <addDefaultValue tableName="resident"
                         columnName="id"
                         defaultValueComputed="nextval('resident_seq')"/>

        <!-- Create sequence for ResidentType entity -->
<!--        <createSequence sequenceName="resident_type_seq" startValue="1" incrementBy="50"/>-->
        <addDefaultValue tableName="resident_type"
                         columnName="id"
                         defaultValueComputed="nextval('resident_type_seq')"/>

        <!-- Create sequence for FeesConfiguration entity -->
<!--        <createSequence sequenceName="fees_configuration_seq" startValue="1" incrementBy="50"/>-->
        <addDefaultValue tableName="fees_configuration"
                         columnName="id"
                         defaultValueComputed="nextval('fees_configuration_seq')"/>

        <!-- Create sequence for FeesCollection entity -->
<!--        <createSequence sequenceName="fees_collection_seq" startValue="1" incrementBy="50"/>-->
        <addDefaultValue tableName="fees_collection"
                         columnName="id"
                         defaultValueComputed="nextval('fees_collection_seq')"/>

        <!-- Create sequence for ProjectDiscount entity -->
<!--        <createSequence sequenceName="project_discount_seq" startValue="1" incrementBy="50"/>-->
        <addDefaultValue tableName="project_discount"
                         columnName="id"
                         defaultValueComputed="nextval('project_discount_seq')"/>

        <!-- Create sequence for SellerCommission entity -->
<!--        <createSequence sequenceName="seller_commission_seq" startValue="1" incrementBy="50"/>-->
        <addDefaultValue tableName="seller_commission"
                         columnName="id"
                         defaultValueComputed="nextval('seller_commission_seq')"/>

        <!-- Create sequence for Seller entity -->
<!--        <createSequence sequenceName="seller_seq" startValue="1" incrementBy="50"/>-->
        <addDefaultValue tableName="seller"
                         columnName="id"
                         defaultValueComputed="nextval('seller_seq')"/>

        <!-- Create sequence for Employee entity -->
<!--        <createSequence sequenceName="employee_seq" startValue="1" incrementBy="50"/>-->
        <addDefaultValue tableName="employee"
                         columnName="id"
                         defaultValueComputed="nextval('employee_seq')"/>

        <!-- Create sequence for UnionMember entity -->
<!--        <createSequence sequenceName="union_member_seq" startValue="1" incrementBy="50"/>-->
        <addDefaultValue tableName="union_member"
                         columnName="id"
                         defaultValueComputed="nextval('union_member_seq')"/>

        <!-- Create sequence for Notice entity -->
<!--        <createSequence sequenceName="notice_seq" startValue="1" incrementBy="50"/>-->
        <addDefaultValue tableName="notice"
                         columnName="id"
                         defaultValueComputed="nextval('notice_seq')"/>

        <!-- Create sequence for Expense entity -->
<!--        <createSequence sequenceName="expense_seq" startValue="1" incrementBy="50"/>-->
        <addDefaultValue tableName="expense"
                         columnName="id"
                         defaultValueComputed="nextval('expense_seq')"/>

        <!-- Create sequence for ExpenseType entity -->
<!--        <createSequence sequenceName="expense_type_seq" startValue="1" incrementBy="50"/>-->
        <addDefaultValue tableName="expense_type"
                         columnName="id"
                         defaultValueComputed="nextval('expense_type_seq')"/>

        <!-- Create sequence for Complain entity -->
<!--        <createSequence sequenceName="complain_seq" startValue="1" incrementBy="50"/>-->
        <addDefaultValue tableName="complain"
                         columnName="id"
                         defaultValueComputed="nextval('complain_seq')"/>

        <!-- Create sequence for ComplainType entity -->
<!--        <createSequence sequenceName="complain_type_seq" startValue="1" incrementBy="50"/>-->
        <addDefaultValue tableName="complain_type"
                         columnName="id"
                         defaultValueComputed="nextval('complain_type_seq')"/>

        <!-- Create sequence for ComplainStatus entity -->
<!--        <createSequence sequenceName="complain_status_seq" startValue="1" incrementBy="50"/>-->
        <addDefaultValue tableName="complain_status"
                         columnName="id"
                         defaultValueComputed="nextval('complain_status_seq')"/>

        <!-- Create sequence for ComplainComment entity -->
<!--        <createSequence sequenceName="complain_comment_seq" startValue="1" incrementBy="50"/>-->
        <addDefaultValue tableName="complain_comment"
                         columnName="id"
                         defaultValueComputed="nextval('complain_comment_seq')"/>
    </changeSet>

    <!--
        Update any native query implementations to use dedicated sequences.
        This is handled in Java code through repository classes.
     -->
</databaseChangeLog>
